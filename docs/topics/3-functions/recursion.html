<article class="topic-content">
    <header class="topic-header">
        <span class="phase-badge functions">Phase 3</span>
        <h1>Recursion</h1>
        <p class="topic-description">Functions calling themselves.</p>
    </header>

    <section class="topic-section">
        <h2>Recursion</h2>
        <p>Recursion is when a function calls itself.</p>
        <p>It sounds like a recipe for an infinite loop (and a browser crash), but if done correctly, it is a powerful
            way to solve problems that can be broken down into smaller, identical problems.</p>
    </section>

    <section class="topic-section">
        <h2>1. The Two Rules</h2>
        <ul>
            <li><strong>1. The Base Case (The Exit)</strong> : A condition that stops the recursion. Without this, the
                function runs forever until the stack overflows.</li>
            <li><strong>2. The Recursive Step</strong> : The part where the function calls itself with a smaller piece
                of the problem.</li>
        </ul>
    </section>

    <section class="topic-section">
        <h2>2. Example: Factorial</h2>
        <p>Calculate 5! (5 * 4 * 3 * 2 * 1).</p>
        <div class="code-container" data-language="javascript">
            <div class="code-header">
                <span class="dot red"></span>
                <span class="dot yellow"></span>
                <span class="dot green"></span>
                <span class="filename">factorial.js</span>
            </div>
            <pre><code>function factorial(n) {
  // 1. Base Case: If n gets down to 1, stop and return 1.
  if (n === 1) {
    return 1;
  }

  // 2. Recursive Step: n * factorial of (n-1)
  return n * factorial(n - 1);
}

console.log(factorial(5)); // Output: 120</code></pre>
        </div>
    </section>

    <section class="topic-section">
        <h2>How it executes:</h2>
        <ul>
            <li>factorial(5) calls factorial(4)</li>
            <li>factorial(4) calls factorial(3)</li>
            <li>factorial(3) calls factorial(2)</li>
            <li>factorial(2) calls factorial(1)</li>
            <li>factorial(1) hits the Base Case! Returns 1.</li>
            <li>Now the chain resolves backwards: 2*1 -> 3*2 -> 4*6 -> 5*24 -> 120.</li>
        </ul>
    </section>

    <nav class="topic-nav">
        <a href="#/3-functions/iife" class="nav-link prev">
            <span class="nav-link-label">← Previous</span>
            <span class="nav-link-title">IIFE</span>
        </a>
        <a href="#/4-data-structures/arrays-basics" class="nav-link next">
            <span class="nav-link-label">Next →</span>
            <span class="nav-link-title">Arrays Basics</span>
        </a>
    </nav>
</article>